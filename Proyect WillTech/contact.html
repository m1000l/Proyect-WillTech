<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agendar Servicio | WilTech Solutions</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    <!-- Font Awesome -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>
    <!-- HTML2Canvas (Keep for potential PDF export) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
</head>

<body>

    <!-- Navigation -->
    <header>
        <div class="container">
            <nav>
                <a href="index.html" class="logo">WilTech<span>Solutions</span></a>
                <div class="mobile-toggle">
                    <i class="fas fa-bars"></i>
                </div>
                <ul class="nav-links">
                    <li><a href="index.html">Inicio</a></li>
                    <li><a href="como-trabajamos.html">Cómo Trabajamos</a></li>
                    <li><a href="components.html">Guía Hardware</a></li>
                    <li><a href="contact.html" class="active btn btn-primary">AGENDATE AHORA</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <div style="height: 80px;"></div>

    <section class="container full-height-section">

        <div class="booking-layout animate-fade-in">

            <!-- LEFT PANEL: LIVE SUMMARY -->
            <aside class="summary-panel">
                <div class="summary-content">
                    <h3><i class="fas fa-microchip"></i> Tu Selección</h3>
                    <p class="summary-subtitle">Configuración en tiempo real</p>

                    <div class="summary-steps">
                        <!-- Step 1 Summary -->
                        <div class="summary-item" id="sum-step-1">
                            <div class="icon-box empty"><i class="fas fa-question"></i></div>
                            <div class="text-box">
                                <span class="label">Dispositivo</span>
                                <span class="value">---</span>
                            </div>
                        </div>

                        <!-- Step 2 Summary -->
                        <div class="summary-item" id="sum-step-2">
                            <div class="icon-box empty"><i class="fas fa-question"></i></div>
                            <div class="text-box">
                                <span class="label">Modelo</span>
                                <span class="value">---</span>
                            </div>
                        </div>

                        <!-- Step 3 Summary -->
                        <div class="summary-item" id="sum-step-3">
                            <div class="icon-box empty"><i class="fas fa-question"></i></div>
                            <div class="text-box">
                                <span class="label">Servicio</span>
                                <span class="value">---</span>
                            </div>
                        </div>
                    </div>

                    <div class="summary-footer">
                        <small>ID Provisional</small>
                        <h2 class="id-preview">----</h2>
                    </div>
                </div>
            </aside>

            <!-- RIGHT PANEL: WIZARD -->
            <main class="wizard-panel">

                <!-- SUCCESS VIEW (Hidden by default) -->
                <div id="success-view" class="success-container" style="display: none;">
                    <div class="success-content">
                        <div class="success-icon animate-pop">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <h2>¡Solicitud Enviada!</h2>
                        <p>Tu equipo está listo para ingresar a nuestro laboratorio.</p>

                        <div class="tracking-card">
                            <span>TU ID DE SEGUIMIENTO</span>
                            <h1 id="final-tracking-id">PC-8839</h1>
                            <p>Guarda este código para consultar el estado.</p>
                        </div>

                        <a href="rastreo.html" class="btn btn-outline"
                            style="width: 100%; justify-content: center; margin-top: 1rem;">
                            Ir a Rastreo <i class="fas fa-arrow-right" style="margin-left: 8px;"></i>
                        </a>
                        <a href="index.html" class="btn-text">Volver al Inicio</a>
                    </div>
                </div>

                <!-- WIZARD FORM -->
                <form id="wizard-form">

                    <!-- Progress Indicators -->
                    <div class="wizard-progress">
                        <div class="step-dot active" data-step="1"></div>
                        <div class="step-dot" data-step="2"></div>
                        <div class="step-dot" data-step="3"></div>
                        <div class="step-dot" data-step="4"></div>
                    </div>

                    <!-- STEP 1: CATEGORY -->
                    <div class="wizard-step active" id="step-1">
                        <h2 class="step-title">¿Qué quieres reparar hoy?</h2>
                        <div class="cards-grid">

                            <!-- PC Option -->
                            <div class="brand-card brand-blue" onclick="selectDevice('PC')">
                                <div class="brand-icon"><i class="fas fa-desktop"></i></div>
                                <h4>PC & Laptop</h4>
                            </div>

                            <!-- PlayStation -->
                            <div class="brand-card brand-sony" onclick="selectDevice('PlayStation')">
                                <div class="brand-icon"><i class="fab fa-playstation"></i></div>
                                <h4>PlayStation</h4>
                            </div>

                            <!-- Xbox -->
                            <div class="brand-card brand-xbox" onclick="selectDevice('Xbox')">
                                <div class="brand-icon"><i class="fab fa-xbox"></i></div>
                                <h4>Xbox</h4>
                            </div>

                            <!-- Nintendo -->
                            <div class="brand-card brand-nintendo" onclick="selectDevice('Nintendo')">
                                <div class="brand-icon"><i class="fas fa-gamepad"></i></div>
                                <h4>Nintendo</h4>
                            </div>

                            <!-- Handhelds -->
                            <div class="brand-card brand-purple" onclick="selectDevice('Handheld')">
                                <div class="brand-icon"><i class="fas fa-mobile-alt"></i></div>
                                <h4>Handheld PC</h4>
                            </div>

                        </div>
                    </div>

                    <!-- STEP 2: MODELS (Dynamic) -->
                    <div class="wizard-step" id="step-2">
                        <div class="step-header">
                            <button type="button" class="btn-back" onclick="prevStep()"><i
                                    class="fas fa-arrow-left"></i></button>
                            <h2 class="step-title">Selecciona tu Modelo</h2>
                        </div>
                        <div class="cards-grid" id="models-grid">
                            <!-- Injected by JS -->
                        </div>
                    </div>

                    <!-- STEP 3: SERVICES -->
                    <div class="wizard-step" id="step-3">
                        <div class="step-header">
                            <button type="button" class="btn-back" onclick="prevStep()"><i
                                    class="fas fa-arrow-left"></i></button>
                            <h2 class="step-title">Elige el Servicio</h2>
                        </div>

                        <div id="service-restrictions-msg"></div>

                        <div class="cards-grid" id="services-grid">
                            <!-- Injected by JS -->
                        </div>
                    </div>

                    <!-- STEP 4: CONTACT -->
                    <div class="wizard-step" id="step-4">
                        <div class="step-header">
                            <button type="button" class="btn-back" onclick="prevStep()"><i
                                    class="fas fa-arrow-left"></i></button>
                            <h2 class="step-title">Tus Datos</h2>
                        </div>

                        <div class="input-group">
                            <label>Nombre Completo</label>
                            <input type="text" id="userName" class="tech-input" placeholder="Tu nombre" required>
                        </div>

                        <div class="input-group">
                            <label>Teléfono</label>
                            <input type="tel" id="userPhone" class="tech-input" placeholder="Tu WhatsApp" required>
                        </div>

                        <div class="input-group">
                            <label>Detalle del problema (Opcional)</label>
                            <textarea id="issueDesc" class="tech-input" rows="3"
                                placeholder="¿Qué le pasa a tu equipo?"></textarea>
                        </div>

                        <button type="button" class="btn btn-primary btn-block btn-lg" onclick="finishBooking()">
                            CONFIRMAR CITA <i class="fas fa-check"></i>
                        </button>
                    </div>

                </form>
            </main>
        </div>

    </section>

    <!-- Unified Footer (Same as Index) -->
    <footer>
        <div class="container">
            <div class="footer-grid">
                <!-- Col 1 -->
                <div class="footer-col">
                    <a href="#" class="logo">WilTech<span>Solutions</span></a>
                    <p style="margin-top: 1rem; color: var(--text-muted);">
                        Tecnología de punta para gamers exigentes. Llevamos tu hardware al siguiente nivel.
                    </p>
                </div>

                <!-- Col 2 -->
                <div class="footer-col">
                    <h4>Servicios</h4>
                    <ul class="footer-links">
                        <li><a href="services.html">PC & Laptops</a></li>
                        <li><a href="services.html">PlayStation & Xbox</a></li>
                        <li><a href="services.html">Nintendo & Steam Deck</a></li>
                    </ul>
                </div>

                <!-- Col 3 -->
                <div class="footer-col">
                    <h4>Compañía</h4>
                    <ul class="footer-links">
                        <li><a href="como-trabajamos.html">Sobre Nosotros</a></li>
                        <li><a href="#">Política de Garantía</a></li>
                        <li><a href="contact.html">Contacto</a></li>
                    </ul>
                </div>

                <!-- Col 4 -->
                <div class="footer-col">
                    <h4>Contacto Rápido</h4>
                    <ul class="footer-links">
                        <li><a href="#"><i class="fab fa-whatsapp"></i> +123 456 7890</a></li>
                        <li><a href="#"><i class="fas fa-envelope"></i> contacto@wiltech.com</a></li>
                    </ul>
                    <a href="contact.html" class="btn btn-primary"
                        style="margin-top: 1rem; width: 100%; font-size: 0.9rem;">AGENDARSE AHORA</a>
                </div>
            </div>
            <div class="copyright">
                <p>&copy; 2025 WilTech Solutions. Todos los derechos reservados.</p>
            </div>
        </div>
    </footer>

    <script src="js/script.js"></script>
    <script src="js/contact_logic.js"></script>
</body>

</html>